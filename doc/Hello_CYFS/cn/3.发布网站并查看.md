# 发布自己的静态网站

## 使用upload命令发布静态网站
准备一个静态网站www, 并且把www目录下的所有文件都发布到ood上, 使用命令`cyfs upload www -t ood`
```powershell
PS E:\> cyfs upload www -t ood
[info],[2022-06-14 23:19:23.831],<>,cyfs-sdk version 1.0-nightly (2022-06-13), index.js:49298
[info],[2022-06-14 23:19:24.496],<>,[cyfs], 工具目录： C:\Users\Bucky\AppData\Roaming\npm\node_modules\cyfs-tool-nightly, cyfs.js:2538
[info],[2022-06-14 23:19:24.496],<>,[cyfs], 版本号： 0.5.11, cyfs.js:2539
[info],[2022-06-14 23:19:24.499],<>,options: [object Object], cyfs.js:2267
[info],[2022-06-14 23:19:24.500],<>,check cyfs-runtime running..., cyfs.js:3027
[info],[2022-06-14 23:19:24.504],<>,runtime not running, cyfs.js:3007
[info],[2022-06-14 23:19:24.504],<>,cyfs-runtime not running, try start runtime..., cyfs.js:3036
[info],[2022-06-14 23:19:26.513],<>,check cyfs-runtime running..., cyfs.js:3027
[info],[2022-06-14 23:19:26.517],<>,create SharedCyfsStack {"service_url":"http://127.0.0.1:1322","event_type":1,"dec_id":"9tGpLNnDpa8deXEk2NaWGccEu4yFQ2DrTZJPLYLT7gj4","ws_url":"ws://127.0.0.1:1323","requestor_config":{"non_service":0,"ndn_service":0,"util_service":0,"trans_service":0,"crypto_service":0,"root_state":0,"local_cache":0}}, index.js:71426
[info],[2022-06-14 23:19:53.730],<>,will get trans task state:  http://127.0.0.1:1322/trans/task/state [object Object], index.js:71829
[info],[2022-06-14 23:19:54.137],<>,will get trans task state:  http://127.0.0.1:1322/trans/task/state [object Object], index.js:71829

.......

目录[object Object]上传完成，可用cyfs浏览器打开cyfs://o/5r4MYfFDmENKMkjtaZztmnpSNTDSoRd6kCWuLSo4ftMS/95RvaS5azgt176LqHAEMEmkr9ieW2DTL7yosXv2fUES8/{目录内部路径} 访问对应文件


```

## 用cyfs浏览器打开这个静态网站
在upload 命令执行成功后, 最后会输出一个目录的url的地址, 之前的的www下放置有`index.html` 网站入口文件, 我可以用`cyfs://o/5r4MYfFDmENKMkjtaZztmnpSNTDSoRd6kCWuLSo4ftMS/95RvaS5azgt176LqHAEMEmkr9ieW2DTL7yosXv2fUES8/index.html` 复制粘贴到CYFS浏览器地址栏, 效果如下:
![image](../images/cyfs_static_site.png)

## 购买一个名字，使用cyfs-meta-client
如没有rust环境, 配置安装rust环境, 编译 `CYFS/src/tools/cyfs-meta-client` 工具, 得到一个可执行的文件cyfs-meta-client, 为了后续方便使用可以把这个文件复制到你的系统的`bin`目录下
```powershell
$Env:CHANNEL = 'beta'
cd CYFS/src
cargo build -p cyfs-meta-client --release

# 获取账户account余额, 如上面的owner_id `5r4MYfFDmENKMkjtaZztmnpSNTDSoRd6kCWuLSo4ftMS`, 确保有足够的余额, 默认100 ECC
# 测试币领取 1. 从钱包充值转账到对象浏览器中设备打赏, 2. 水龙头获取token

.\cyfs-meta-client.exe getbalance 5r4MYfFDmENKMkjtaZztmnpSNTDSoRd6kCWuLSo4ftMS
## 输出如 `account 5r4MYfFDmENKMkjtaZztmnpSNTDSoRd6kCWuLSo4ftMS balance 7999647900`

# device上链
.\cyfs-meta-client.exe putdesc -c C:\cyfs\etc\desc\device 
## 输出如 `create/update desc 5hLXAcPC78hJVrQ95djNBJzv75p3ACUAHTB2xtRvz6bZ success, txhash 8YCfQUGVzZnXMBvfabDJ93EfBBPprYk76z6DLz5xcC3D`

# 查看deivce上链状态, txhash 上一步中的txhash
.\cyfs-meta-client.exe getreceipt 8YCfQUGVzZnXMBvfabDJ93EfBBPprYk76z6DLz5xcC3D

# 购买名字, 1 Qiu = 10^-18 ECC
.\cyfs-meta-client.exe bidname sixsixsix -c C:\cyfs\etc\desc\device  -o 95RvaS5azgt176LqHAEMEmkr9ieW2DTL7yosXv2fUES8 500000 500000

## 输出如 `bid name sixsixsix success, txhash 8YCfQUGnNQNxdmeBiVUTFoUJc37TDgLBqTT7EDafqee6`
# 查看 bidname的tx hash
.\cyfs-meta-client.exe getreceipt 8YCfQUGnNQNxdmeBiVUTFoUJc37TDgLBqTT7EDafqee6

# object dec_id 设置名字链接
.\cyfs-meta-client.exe namelink sixsixsix -c C:\cyfs\etc\desc\device  95RvaS5azgt176LqHAEMEmkr9ieW2DTL7yosXv2fUES8  --type obj

# 获取名字绑定成功后的object id
.\cyfs-meta-client.exe getname sixsixsix

```

## 使用cyfs-meta-client，绑定名字到网站的root


## 使用新购买的名字，重新打开静态网站
访问 `cyfs://sixsixsix/index.html`